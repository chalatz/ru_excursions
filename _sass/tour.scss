.tour {

    @include clearfix;

    &__content-wrapper {
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        @include breakpoint(large) {
            margin-top: 0.5rem;
        }
    }

    &__header {
        background-color: $gray;
        padding: 1.5rem;
        margin-bottom: -.5rem;
    }

    &__title {
        color: $darkblue;
        border: 4px solid $darkblue;
        border-radius: 6px;
        padding: .8rem 1.1rem;
        display: inline-block;
        margin-bottom: .2rem;
        &--no-intro {
            margin-top: .67em;
        }
    }

    &__intro {
        font-size: 1.2rem;
        line-height: 1.6;
    }

    &__nav {
        position: sticky;
        top: 52px;
        background-color: $darkblue;
        margin-top: -1rem;
        z-index: 1;
        border-bottom: 2px solid $yellow;
        @include breakpoint(large) {
            margin-top: 0;
            top: 46px;
            border-right: 1px solid $yellow;
        }
        @include breakpoint(semi_large) {
            top: 48px;            
        }
        .container {
            padding-left: 0;
            padding-right: 0;
            @include breakpoint(large) {
                padding-left: 0;
                padding-right: 0;
            }
        }
    }

    &__nav-titles {
        list-style: none;
        padding: 0;
        // font-size: 1.2rem;
        margin: 0;
        @include clearfix;
        .tour__nav-title {
            border-right: 1px solid $yellow;
            float: left;
            &--last {
                border: none;
                @include breakpoint(large) {
                    border-right: unset;
                }
            }            
        }
        .tour__nav-anchor {
            &:visited,
            &:active {
                color: #fff;
            }
            font-size: 14px;
            padding: 8px 2.5px;
            background-color: $darkblue;
            color: #fff;
            display: block;
            text-decoration: none;
            // min-height: 62px;
            // min-height: 50px;
            .space {
                display: block;
            }
            &:hover {
                color: $yellow;
            }
            &.active {
                color: $yellow;
            }
            @include breakpoint(smaller) {
                padding: 8px 6px;
                font-size: 1rem;
            }
            @include breakpoint(small) {
                padding: 8px 16px;
                font-size: 1.1rem;
            }
            @include breakpoint(large) {
                padding: 8px 6px;
            }
            @include breakpoint(semi_large) {
                padding: 8px 12px;                
                font-size: 1.2rem;
            }
        }
    }

    &__content-wrapper {
        @include clearfix;
    }

    &__main {
        @include breakpoint(large) {
            float: left;
            width: 65%;
        }
        &--with-outro {
            padding-bottom: 0;
        }
    }

    &__aside {
        @include breakpoint(large) {
            float: left;
            width: 30%;
            // margin-top: 46px;
            margin-left: 36px;
            border-radius: 6px;
            padding-left: 6px;
            padding-right: 6px;
            position: sticky;
            top: 48px;
        }        
    }

    &__section-header {
        &--exclusions {
            font-size: 1.5rem;
        }
        &--no-headings {
            margin-bottom: 1rem !important;
        }
    }

    &__section-description {
        text-align: center;
    }
        

    &__section-content {
        ol {
            // list-style: none;
            // counter-reset: tour-content-ol-counter;
            // padding: 0;
            li {
                margin-bottom: .4rem;
                &:last-child {
                    margin-bottom: 0;
                }
                &::marker {
                    font-weight: bold;
                }
                // counter-increment: tour-content-ol-counter;
                // &::marker {
                //     content: counter(tour-content-ol-counter) ". ";
                //     font-weight: bold;
                // }
            }
        }

        &--md {            
            h3 {
                text-align: left;
                margin-bottom: 3px;
                font-size: 1.25rem;
                text-transform: uppercase;
                &::before {                
                    content: url(arrow.svg);
                    display: inline-block;
                    min-width: 22px;
                    vertical-align: middle;
                    margin-right: 3px;
                    position: relative;
                    top: 1.5px;
                }
            }
            h4 {
                font-weight: normal;
            }
        }
    }

    &__section-details {
        font-style: oblique;
        line-height: 1.4;
        p,
        ul,
        ol {
            margin: 0;
            margin-bottom: 0.5rem;
        }

        p {
            & > strong:first-child {
               color: $red; 
            }
        }
    }

    &__section-route-map-wrapper {
        text-align: center;
    }

    &__section-route-map-img {
        border: 2px solid $lightblue;
        border-radius: 4px;
        box-shadow: 0 10px 10px -12px #27334a;
        max-width: 90%;
        transition: border-color .15s linear, box-shadow .15s linear;
        @include breakpoint(smaller) {            
            max-width: 85%;
        }
        @include breakpoint(smallish) {            
            max-width: 75%;
        }
        @include breakpoint(medium) {            
            max-width: 65%;
        }
        @include breakpoint(large) {            
            max-width: 75%;
        }
    }
    
    &__section-route-map-link {
        &:hover {
            img {
                border-color: $yellow;
                box-shadow: 0 10px 10px -12px $yellow;
            }
        }
    }

    &__section-separator {
        margin: 3rem auto 2rem;
        width: 85%;
        border: 1px solid $blue;
        box-shadow: 0px 1px 3px 0px $darkblue;
        &--thin {
            margin: 2rem auto 1.5rem;
            box-shadow: none;
            width: 60%;
        }
    }

    &__inclusion-item {
        margin-bottom: .3em;
        display: flex;
    }

    &__inclusion-item-icon {
        position: relative;
        top: 3px;
        margin-right: 0.2rem;
        @supports(display: flex){
            margin-right: .4rem;
        }
        .inclusion-icon {
            width: 22px;
            height: 22px;            
        }
    }

    &__inclusion-item-desc {
        &--not-included {
            color: $red;
        }
    }

    &__gallery-wrapper {
        max-width: 90%;
        margin: 1rem auto;

        @include breakpoint(small) {
            max-width: 80%;
        }
        @include breakpoint(medium) {
            max-width: 75%;
        }
        @include breakpoint(large) {
            max-width: 85%;
        }

        .flickity-viewport {
            transition: height 0.3s;
        }

        .flickity-button {
            width: 32px;
            height: 32px;
            @include breakpoint(medium) {
                width: 38px;
                height: 38px;                
            }
        }
    }

    &__gallery {
        position: relative;
        width: 100%;
    }

    &__gallery-item {
        display: block;
        width: 100%;
        cursor: grab;
        text-align: center;
        img {
            border: 5px solid $yellow;
            border-radius: 3px;
        }
    }

    &__gallery-thumb {
        display: inline-block;
        width: 85px;
        margin: 0 5px;
        @include breakpoint(small) {
            width: 100px;
        }
        &.is-nav-selected {
            img {
                border: 2px solid $yellow;
                border-radius: 6px;
            }
        }
    }

    &__outro {
        text-align: center;
        color: $blue;
        margin-top: 2rem;
        margin-bottom: 2rem;
        font-size: 1.2rem;
    }

    &__aside {
        text-align: center;
        background-color: $lightgray;
        padding: 1rem .5rem;
        @include breakpoint(large) {
            background-color: $lightgray;
            margin-top: 1.5rem;
            max-height: 94vh;
            overflow-y: auto;
        }
        .container {
            padding-bottom: 1rem;
        }
    }

}

.tour-aside {
    &__title {
        margin: 0;
        margin-bottom: 1.6rem;
        margin-right: auto;
        margin-left: auto;
        @include breakpoint(small) {
            max-width: 70%;
        }
        @include breakpoint(medium) {
            max-width: 65%;
        }
        @include breakpoint(large) {
            max-width: 100%;
        }
    }
    &__title-link {
        line-height: 1.4;
        padding: .5rem .8rem;
        font-size: 1.45rem;
        font-weight: normal;
        border-radius: 6px;
        display: block;
        border: 4px solid #d4af37;
        color: $yellow;
        text-decoration: none;
        background-color: $darkblue;
        transition: color .1s linear, background-color .1s linear;
        @include breakpoint(large) {
            padding: .5rem .2rem;            
        }
        &:hover {
            color: #fff;
            background-color: $yellow;
        }
    }
    &__content {
        font-size: 1.3rem;
        color: $blue;
        p {
            margin: 1rem 0;
            line-height: 1.5;
        }
    }
    &__btn-link {
        text-decoration: none;
        display: block;
        text-align: center;
        background-color: #fff;
        border: 4px solid $yellow;
        padding: 8px 6px;
        color: $darkblue;
        border-radius: 10px;
        margin-left: auto;
        margin-right: auto;
        @include breakpoint(small) {            
            max-width: 70%;
        }
        @include breakpoint(medium) {            
            max-width: 65%;
        }
        @include breakpoint(large) {            
            max-width: 100%;
        }
        transition: background-color .2s linear;
        &:hover,
        &--active {
            background-color: $yellow;
            color: #fff;
        }
        &--alt {
            border-color: $darkblue;
            &:hover {
                background-color: $darkblue;
                color: $yellow;
            }
        }
    }
    &__block-title {
        font-size: 1.3rem;
        background-color: $darkblue;
        color: #fff;
        font-weight: normal;
        padding: 1.5rem .2rem;
        margin-bottom: 0;
    }
    &__block-content {
        font-size: 1.3rem;
        line-height: 1.5;
        border: 1px solid $gray;
        padding-left: 0.8rem;
        padding-right: 0.8rem;
        @include breakpoint(large) {
            text-align: left;
        }
        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        li {
            margin: .8rem 0;
        }
        a {
            color: $blue;
            transition: color .2s linear;
            text-decoration: none;
            &:visited,
            &:active {
                color: $blue;
            }
            &:hover {
                color: $yellow;
            }
        }
        &--alt {
            a {
                transition: background-color .2s linear;
            }
        }
    }
}